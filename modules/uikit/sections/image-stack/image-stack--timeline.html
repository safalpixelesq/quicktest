{%- set style = style | setDefaults({background:'#fff',spacing:'md',
align:'center', justify: 'center', mediaWidth:'3/5', columns:1 , itemAlign:
'left', mediaPos: 'right', itemJustify: 'middle', itemAnimation: 'fade'}) -%}
<section
	class="{{ style | setSection('class') }}"
	style="{{ style | setSection('style') }}"
	id="{{uid}}"
>
	<div class="{{ style | setContainer }}">
		<div class="uk-text-{{style.align}} uk-flex uk-flex-{{style.justify}}">
			<div class="uk-width-2-3@m">
				{%- render "@macro-texts", {heading:"2", weight:"normal",
				size:'lg', justify:style.justify, align:style.align,
				color:style.color, subtitle:subtitle, title:title,
				description:description, ctas:ctas } -%}
			</div>
		</div>
		<div>
			<div
				class="uk-visible@s"
				data-uk-slideshow="animation:{{style.itemAnimation}}; autoplay:true; ratio:{{style.itemSizeRatio}}; autoplay-interval:5000"
			>
				<div class="uk-margin-medium-top">
					<ul
						class="
							uk-slideshow-nav
							uk-list
							uk-flex
							uk-flex-around
							uk-flex-middle
							uk-flex-bottom
						"
					>
						{%- for item in items -%}
						<li
							class="step uk-flex uk-flex-center"
							uk-slideshow-item="{{loop.index - 1}}"
						>
							<div
								class="
									uk-visible@m
									dataline
									uk-flex uk-flex-middle uk-flex-center
								"
							>
								<div
									class="
										uk-h3
										uk-margin-remove-bottom
										uk-text-medium
									"
								>
									{{item.subtitle}}
								</div>
							</div>
							<div class="timeline"></div>
						</li>
						{%- endfor -%}
					</ul>
					<div class="uk-position-relative" tabindex="-1">
						<ul
							class="uk-slideshow-items"
							uk-height-match="target: > .uk-card"
						>
							{%- for item in items -%} {%- if item.style -%} {%-
							set style = style | setAttribute('item', item.style)
							-%} {%- endif -%} {%- set color = style.itemColor
							-%}
							<li
								class="{{ style | setItem('class') }} uk-card uk-card-default uk-padding uk-border-rounded"
								style="{{ style | setItem('style') }}"
							>
								<div
									class="{{ style | setMediaContainer }} uk-flex uk-flex-middle uk-height-1-1 uk-grid uk-grid-large"
									data-uk-grid
								>
									<div class="{{ style | setGrid }}">
										{%- render "@macro-texts", {heading:"3",
										weight:"light", size:'lg',
										justify:style.itemJustify,
										align:style.itemAlign,
										color:style.itemColor, title:item.title,
										description:item.description } -%}
									</div>
									<div class="{{ style | setGrid('media') }}">
										<div class="">
											<img
												data-src="{{item.image.url}}"
												class="uk-height-max-small-m"
												alt="{{item.image.alt}}"
												data-uk-img
												width="100%"
											/>
										</div>
									</div>
								</div>
							</li>
							{%- endfor -%}
						</ul>
					</div>
				</div>
			</div>
			<div
				class="uk-hidden@s"
				data-uk-slider="animation:{{style.itemAnimation}}; autoplay:false; ratio:3:5"
			>
				<div class="uk-position-relative" tabindex="-1">
					<ul class="uk-slider-items">
						{%- for item in items -%} {%- if item.style -%} {%- set
						style = style | setAttribute('item', item.style) -%} {%-
						endif -%} {%- set color = style.itemColor -%}
						<li
							class="{{ style | setItem('class') }} uk-card uk-card-default uk-padding uk-border-rounded"
							style="{{ style | setItem('style') }}"
						>
							<div class="">
								<div class="">
									{%- render "@macro-texts", {heading:"3",
									weight:"light", size:'lg',
									justify:style.itemJustify,
									align:style.itemAlign,
									color:style.itemColor,
									subtitle:item.subtitle,
									title:item.description,
									description:item.title } -%}
								</div>
								<div class="logo-img">
									<img
										data-src="{{item.image.url}}"
										class="uk-height-max-small-m"
										alt="{{item.image.alt}}"
										data-uk-img
										width="100%"
									/>
								</div>
							</div>
						</li>
						{%- endfor -%}
					</ul>
				</div>
				{#
				<ul class="uk-slideshow-nav uk-list uk-flex uk-flex-around">
					{%- for item in items -%}
					<li class="card" uk-slideshow-item="{{loop.index - 1}}">
						<div class="logo-img uk-visible@m">
							<img
								src="{{item.image.url}}"
								alt="{{item.image.alt}}"
								class="uk-height-max-xsmall"
							/>
						</div>
					</li>
					{%- endfor -%}
				</ul>
				#}
			</div>
		</div>
	</div>
</section>
<style>
	.step {
		position: relative;
		width: 100%;
		margin-bottom: 40px;
	}
	.step:first-child .timeline {
		border-top-left-radius: 4px;
		border-bottom-left-radius: 4px;
	}
	.step:last-child .timeline {
		border-top-right-radius: 4px;
		border-bottom-right-radius: 4px;
	}
	.step .timeline {
		bottom: 45px;
		height: 8px;
		left: 0px;
		right: 0px;
		//background-color: var(--primary);
		background: linear-gradient(to right, var(--primary) 50%, #fff 50%);

		background-size: 200% 100%;
		// background-position: left;
		// background-position: left bottom;
		position: absolute;
		z-index: 0;
		transition: background-position 5s linear;
	}
	.step > .dataline {
		position: relative;
		z-index: 1;
		width: 100px;
		height: 100px;
		border-radius: 50%;
		background-color: var(--primary);

		// border-left: 5px solid transparent;
	}
	.step > .dataline:hover {
		cursor: pointer;
	}
	.step.uk-active > .dataline {
		background-color: var(--primary);
		transition: all 0.5s;
	}

	.step.uk-active > .timeline {
		background: linear-gradient(
			90deg,
			var(--primary) 50%,
			rgba(255, 255, 255, 1) 50%
		);
		background-position: left;
		transition: background-position 5s linear;
	}
	.step.uk-active ~ .step {
		// border-color: #fff;
	}

	.step.uk-active ~ .step > .dataline {
		background-color: #fff;
	}
	.step > .dataline .uk-h3 {
		color: #fff !important;
	}

	.step.uk-active ~ .step > .dataline .uk-h3 {
		color: #333 !important;
	}

	.step.uk-active ~ .step > .timeline {
		background: #fff;
		// background: linear-gradient(to right, var(--primary) 50%, #fff 50%);
		//background-position: right !important;
	}

	.logo-img .uk-height-max-small {
		max-height: 80px;
		max-width: 300px;
	}

	.logo-img .uk-height-max-small-m {
		max-height: 50px;
		max-width: 200px;
	}

	.logo-img .uk-height-max-xsmall {
		max-height: 40px;
		max-width: 200px;
	}
</style>
